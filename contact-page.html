<style>
    /* =========================================
       ISOLATED CSS - ELEMENTOR SAFE
       ========================================= */

    /* 1. Scoped Reset (Only affects items inside the popup) */
    #enquiry-popup-overlay {
        /* Reset root font settings to ensure rem/em works predictably */
        font-size: 16px;
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;

        /* Positioning */
        display: flex;
        /* Kept as flex for preview. Toggle to 'none' via JS when needed */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 99999;
        /* Very high Z-index to sit on top of WP Header */
        justify-content: center;
        align-items: center;
        padding: 20px;
        box-sizing: border-box;

        /* Enforce Font Family */
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }

    /* Force Box Sizing on EVERYTHING inside the popup */
    #enquiry-popup-overlay * {
        box-sizing: border-box;
    }

    /* Reset Styles for specific elements to strip Theme Defaults */
    #enquiry-popup-content h2,
    #enquiry-popup-content p,
    #enquiry-popup-content form,
    #enquiry-popup-content label,
    #enquiry-popup-content input,
    #enquiry-popup-content select,
    #enquiry-popup-content textarea,
    #enquiry-popup-content button {
        margin: 0;
        padding: 0;
        border: none;
        outline: none;
        background: none;
        box-shadow: none;
        border-radius: 0;
        letter-spacing: normal;
        word-spacing: normal;
        text-transform: none;
        text-indent: 0;
        text-shadow: none;
        text-align: left;
    }

    /* =========================================
       MAIN LAYOUT
       ========================================= */

    #enquiry-popup-content {
        --primary: #532A44;
        --header-color: #532A44;
        --border-color: #B4AEA7;
        --text-main: #1f2937;
        --text-muted: #6b7280;
        --bg-card: #ffffff;
        --radius: 16px;

        background: transparent;
        max-width: 600px;
        width: 100%;
        position: relative;
    }

    #enquiry-popup-content .card {
        width: 100%;
        padding: 30px;
        background: var(--bg-card);
        border-radius: var(--radius);
        box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.2);
        /* Slightly stronger shadow for isolation */
        position: relative;
    }

    #enquiry-popup-content .card-header {
        text-align: center !important;
        /* Force center */
        margin-bottom: 28px !important;
    }

    #enquiry-popup-content h2 {
        display: block;
        margin: 0 0 6px 0 !important;
        font-weight: 700 !important;
        font-size: 26px !important;
        color: var(--header-color) !important;
        letter-spacing: -0.5px !important;
        line-height: 1.2 !important;
    }

    #enquiry-popup-content p.lead {
        display: block;
        font-weight: 500 !important;
        color: var(--text-muted) !important;
        font-size: 15px !important;
        line-height: 1.5 !important;
    }

    /* --- Grid Layout --- */
    #enquiry-popup-content .enquiry-form {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 0;
    }

    #enquiry-popup-content .col-full {
        grid-column: span 2;
    }

    #enquiry-popup-content .form-group {
        position: relative;
        margin: 0;
    }

    /* --- Inputs, Textarea, Select --- */
    #enquiry-popup-content .input,
    #enquiry-popup-content textarea,
    #enquiry-popup-content select {
        width: 100% !important;
        padding: 16px 12px 6px 12px !important;
        border-radius: 8px !important;
        border: 1px solid var(--border-color) !important;
        font-family: 'Inter', sans-serif !important;
        font-weight: 400 !important;
        font-size: 15px !important;
        background-color: #fff !important;
        color: var(--text-main) !important;
        transition: border-color 0.2s, box-shadow 0.2s;

        /* Critical to remove WP Theme styles */
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        appearance: none !important;
        height: auto !important;
        line-height: normal !important;
        box-shadow: none !important;
    }

    #enquiry-popup-content textarea {
        min-height: 120px !important;
        resize: vertical;
    }

    /* --- Select Dropdown Specifics --- */
    #enquiry-popup-content select {
        cursor: pointer;
        /* Custom Arrow SVG encoded in Base64 */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E") !important;
        background-repeat: no-repeat !important;
        background-position: right 12px center !important;
        background-size: 16px !important;
        padding-right: 30px !important;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* --- Floating Labels --- */
    #enquiry-popup-content .form-label {
        position: absolute;
        left: 12px !important;
        top: 14px !important;
        font-size: 15px !important;
        font-weight: 400 !important;
        color: var(--text-muted) !important;
        pointer-events: none;
        transition: 0.2s ease all;
        background: transparent !important;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 90%;
        line-height: 1 !important;
        margin: 0 !important;
    }

    /* Required Asterisk */
    #enquiry-popup-content .input:required~.form-label::after,
    #enquiry-popup-content textarea:required~.form-label::after,
    #enquiry-popup-content select:required~.form-label::after {
        content: " *";
        color: #b91c1c;
    }

    /* Focus States */
    #enquiry-popup-content .input:focus,
    #enquiry-popup-content textarea:focus,
    #enquiry-popup-content select:focus {
        border-color: var(--header-color) !important;
        box-shadow: 0 0 0 4px rgba(83, 42, 68, 0.1) !important;
    }

    /* Label Movement Logic */
    #enquiry-popup-content .input:focus~.form-label,
    #enquiry-popup-content .input:not(:placeholder-shown)~.form-label,
    #enquiry-popup-content textarea:focus~.form-label,
    #enquiry-popup-content textarea:not(:placeholder-shown)~.form-label,
    #enquiry-popup-content select:focus~.form-label,
    #enquiry-popup-content select:valid~.form-label {
        top: 4px !important;
        font-size: 11px !important;
        font-weight: 600 !important;
        color: var(--header-color) !important;
    }

    /* --- Submit Button --- */
    #enquiry-popup-content .submit-btn {
        background: var(--primary) !important;
        color: #fff !important;
        border: none !important;
        height: 52px !important;
        width: 100% !important;
        border-radius: 8px !important;
        font-family: 'Inter', sans-serif !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        cursor: pointer;
        transition: 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none !important;
    }

    #enquiry-popup-content .submit-btn:hover {
        background: #3e1f33 !important;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    }

    /* --- Close Button --- */
    #close-popup-btn {
        position: absolute;
        top: 15px;
        right: 20px;
        background: transparent !important;
        border: none !important;
        font-size: 28px !important;
        cursor: pointer;
        line-height: 1 !important;
        padding: 0 !important;
        color: #333 !important;
        z-index: 10;
        width: auto !important;
    }

    /* --- Responsive --- */
    @media (max-width: 600px) {
        #enquiry-popup-content .enquiry-form {
            grid-template-columns: 1fr;
        }

        #enquiry-popup-content .col-full {
            grid-column: span 1;
        }

        #enquiry-popup-content .card {
            padding: 24px;
        }
    }
</style>


<div id="enquiry-popup-overlay">
    <div id="enquiry-popup-content">
        <div class="card">
            <button id="close-popup-btn" title="Close">&times;</button>
            <div class="card-header">
                <h2>Send Inquiry</h2>
                <p class="lead">Have a question about the items in your cart? We're here to help.</p>
            </div>
            <form id="enquiryForm" class="enquiry-form">

                <!-- Row 1: Name -->
                <div class="form-group">
                    <input class="input" type="text" id="fname" name="fname" placeholder="" required>
                    <label class="form-label" for="fname">First Name</label>
                </div>
                <div class="form-group">
                    <input class="input" type="text" id="lname" name="lname" placeholder="" required>
                    <label class="form-label" for="lname">Last Name</label>
                </div>

                <!-- Row 2: Email and Phone -->
                <div class="form-group">
                    <input class="input" type="email" id="email" name="email" placeholder="" required>
                    <label class="form-label" for="email">Email Address</label>
                </div>
                <div class="form-group">
                    <input class="input" type="tel" id="phone" name="phone" placeholder="" required>
                    <label class="form-label" for="phone">Phone</label>
                </div>

                <!-- Row 3: Company (Full Width) -->
                <div class="form-group col-full">
                    <input class="input" type="text" id="company" name="company" placeholder="" required>
                    <label class="form-label" for="company">Company</label>
                </div>

                <!-- Row 4: Project (Full Width) -->
                <div class="form-group col-full">
                    <input class="input" type="text" id="project" name="project" placeholder="" required>
                    <label class="form-label" for="project">Project</label>
                </div>

                <!-- Row 5: Project Location (Full Width) -->
                <div class="form-group col-full">
                    <select class="input" id="country" name="country" required>
                        <option value="" disabled selected></option>

                        <!-- GCC Countries First -->
                        <optgroup label="GCC Countries">
                            <option value="AE">United Arab Emirates</option>
                            <option value="SA">Saudi Arabia</option>
                            <option value="BH">Bahrain</option>
                            <option value="KW">Kuwait</option>
                            <option value="OM">Oman</option>
                            <option value="QA">Qatar</option>
                        </optgroup>

                        <option disabled>──────────────────</option>

                        <!-- Rest of the World -->
                        <optgroup label="All Countries">
                            <option value="AF">Afghanistan</option>
                            <option value="AL">Albania</option>
                            <option value="DZ">Algeria</option>
                            <option value="AD">Andorra</option>
                            <option value="AO">Angola</option>
                            <option value="AR">Argentina</option>
                            <option value="AM">Armenia</option>
                            <option value="AU">Australia</option>
                            <option value="AT">Austria</option>
                            <option value="AZ">Azerbaijan</option>
                            <option value="BD">Bangladesh</option>
                            <option value="BE">Belgium</option>
                            <option value="BR">Brazil</option>
                            <option value="CA">Canada</option>
                            <option value="CN">China</option>
                            <option value="EG">Egypt</option>
                            <option value="FR">France</option>
                            <option value="DE">Germany</option>
                            <option value="IN">India</option>
                            <option value="ID">Indonesia</option>
                            <option value="IT">Italy</option>
                            <option value="JP">Japan</option>
                            <option value="JO">Jordan</option>
                            <option value="LB">Lebanon</option>
                            <option value="MY">Malaysia</option>
                            <option value="MX">Mexico</option>
                            <option value="MA">Morocco</option>
                            <option value="NL">Netherlands</option>
                            <option value="NZ">New Zealand</option>
                            <option value="NG">Nigeria</option>
                            <option value="PK">Pakistan</option>
                            <option value="PH">Philippines</option>
                            <option value="PL">Poland</option>
                            <option value="PT">Portugal</option>
                            <option value="RU">Russia</option>
                            <option value="SG">Singapore</option>
                            <option value="ZA">South Africa</option>
                            <option value="KR">South Korea</option>
                            <option value="ES">Spain</option>
                            <option value="CH">Switzerland</option>
                            <option value="TR">Turkey</option>
                            <option value="GB">United Kingdom</option>
                            <option value="US">United States</option>
                        </optgroup>
                    </select>
                    <label class="form-label" for="country">Project Location</label>
                </div>

                <!-- Row 6: Message -->
                <div class="form-group col-full">
                    <textarea class="input" id="message" name="message" placeholder=""></textarea>
                    <label class="form-label" for="message">Additional thoughts or details...</label>
                </div>

                <!-- Submit Button -->
                <div class="col-full">
                    <button type="submit" class="submit-btn">Submit</button>
                </div>

            </form>
        </div>
    </div>
</div>